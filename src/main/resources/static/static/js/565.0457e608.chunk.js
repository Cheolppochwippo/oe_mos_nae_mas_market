"use strict";(self.webpackChunkmarket=self.webpackChunkmarket||[]).push([[565],{1744:(a,s,e)=>{e.d(s,{W7:()=>o,c:()=>n});var t=e(7154);const c="http://localhost:8080",o=async a=>{const s="Bearer "+localStorage.getItem("jwt");return(await t.A.post("".concat(c,"/issued/").concat(a),null,{headers:{Authorization:s}})).data},n=async()=>{const a="Bearer "+localStorage.getItem("jwt");return(await t.A.get("".concat(c,"/issued"),{headers:{Authorization:a}})).data}},3565:(a,s,e)=>{e.r(s),e.d(s,{default:()=>i});var t=e(5043),c=e(7154);var o=e(1744),n=e(579);const r=()=>{const[a,s]=(0,t.useState)([]),[e,r]=(0,t.useState)(!0);(0,t.useEffect)((()=>{(async()=>(await c.A.get("".concat("http://localhost:8080","/coupons"))).data)().then((a=>{s(a||[]),r(!1)})).catch((a=>{console.error("Error fetching coupons:",a),r(!1)}))}),[]);return e?(0,n.jsx)("div",{children:"Loading..."}):(0,n.jsx)("div",{className:"coupon-list",children:a.data.map(((a,s)=>(0,n.jsxs)("div",{className:"coupon-item",children:[(0,n.jsx)("div",{className:"coupon-header",children:(0,n.jsx)("span",{children:a.couponInfo})}),(0,n.jsxs)("div",{className:"coupon-content",children:[(0,n.jsxs)("span",{className:"discount",children:[a.discount,"%"]}),(0,n.jsx)("span",{className:"action",onClick:()=>(async a=>{try{await(0,o.W7)(a),alert("\ucfe0\ud3f0\uc774 \uc131\uacf5\uc801\uc73c\ub85c \ubc1c\uae09\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")}catch(s){"\uc774\ubbf8 \ucfe0\ud3f0\uc744 \ubc1c\uae09 \ubc1b\uc73c\uc168\uc2b5\ub2c8\ub2e4."===s.response.data.msg?alert("\uc774\ubbf8 \ubc1c\uae09\ub41c \ucfe0\ud3f0\uc785\ub2c8\ub2e4."):(console.error("Error issuing coupon:",s),alert("\ucfe0\ud3f0 \ubc1c\uae09 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."))}})(a.couponId),children:"\ucfe0\ud3f0\ubc1b\uae30"})]}),(0,n.jsxs)("div",{className:"coupon-period",children:["\uc0ac\uc6a9 \uae30\ud55c: ",a.effectiveDate.substring(0,10)]}),(0,n.jsxs)("div",{className:"coupon-period",children:["\ub0a8\uc740 \ucfe0\ud3f0 \uac1c\uc218: ",a.amount,"\uac1c"]})]},s)))})},i=()=>(0,n.jsx)("div",{className:"p-4 w-full bg-white",children:(0,n.jsx)(r,{})})}}]);
//# sourceMappingURL=565.0457e608.chunk.js.map