"use strict";(self.webpackChunkmarket=self.webpackChunkmarket||[]).push([[349],{1744:(e,t,a)=>{a.d(t,{W7:()=>n,c:()=>c});var s=a(7154);const r="http://localhost:8080",n=async e=>{const t="Bearer "+localStorage.getItem("jwt");return(await s.A.post("".concat(r,"/issued/").concat(e),null,{headers:{Authorization:t}})).data},c=async()=>{const e="Bearer "+localStorage.getItem("jwt");return(await s.A.get("".concat(r,"/issued"),{headers:{Authorization:e}})).data}},3445:(e,t,a)=>{a.d(t,{G1:()=>n,SP:()=>c,zp:()=>l});var s=a(7154);const r="http://localhost:8080",n=async e=>{const t="Bearer "+localStorage.getItem("jwt");return(await s.A.post("".concat(r,"/totalOrders"),e,{headers:{Authorization:t}})).data},c=async e=>{const t="Bearer "+localStorage.getItem("jwt");return(await s.A.get("".concat(r,"/totalOrders"),{headers:{Authorization:t},params:{page:e}})).data.data},l=async e=>{const t="Bearer "+localStorage.getItem("jwt");return(await s.A.get("".concat(r,"/totalOrders/").concat(e),{headers:{Authorization:t}})).data}},1600:(e,t,a)=>{a.d(t,{A:()=>c});var s=a(5043),r=a(4523),n=a(579);const c=()=>{const[e,t]=(0,s.useState)([]),[a,c]=(0,s.useState)(!0),[l,o]=(0,s.useState)(0);(0,s.useEffect)((()=>{(async()=>{try{const e=await(0,r.je)();t(e.data),o(i(e.data)),c(!1)}catch(e){console.error("Failed to fetch cart items:",e)}})()}),[]);const i=e=>e.reduce(((e,t)=>e+t.price*t.quantity),0),d=async(a,s)=>{try{await(0,r.V2)(a,s);const n=e.map((e=>e.orderId===a?{...e,quantity:s}:e));t(n),o(i(n))}catch(n){console.error("Failed to update cart item:",n)}};return a?(0,n.jsx)("div",{children:"Loading..."}):(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Cart Items"}),0===e.length?(0,n.jsx)("p",{children:"Your cart is empty."}):(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("ul",{className:"divide-y divide-gray-200",children:e.map((a=>(0,n.jsxs)("li",{className:"py-4 flex items-center",children:[(0,n.jsx)("div",{className:"w-2/3 flex items-center",children:(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-lg font-semibold",children:a.productName}),(0,n.jsxs)("p",{className:"text-gray-600",children:["Price: ",a.price]})]})}),(0,n.jsxs)("div",{className:"w-1/3 flex justify-end items-center",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("button",{className:"m-1 p-1 text-2xl bg-orange-500 text-white w-8 rounded-lg",onClick:()=>d(a.orderId,a.quantity-1),children:"-"}),(0,n.jsx)("span",{className:"mx-2",children:a.quantity}),(0,n.jsx)("button",{className:"m-1 p-1 text-2xl bg-orange-500 text-white w-8 rounded-lg",onClick:()=>d(a.orderId,a.quantity+1),children:"+"})]}),(0,n.jsx)("button",{className:"ml-4 text-red-500 hover:text-red-700",onClick:()=>(async a=>{try{await(0,r.dt)(a);const s=e.filter((e=>e.orderId!==a));t(s),o(i(s))}catch(s){console.error("Failed to remove cart item:",s)}})(a.orderId),children:"Remove"})]})]},a.orderId)))}),(0,n.jsx)("div",{className:"mt-8 flex justify-end",children:(0,n.jsxs)("div",{className:"text-xlg font-bold ",children:["Total Price: ",l.toLocaleString()," \uc6d0"]})})]})]})}},4164:(e,t,a)=>{a.d(t,{A:()=>i});var s=a(3003),r=a(5475);class n extends Error{}function c(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,t)=>{let a=t.charCodeAt(0).toString(16).toUpperCase();return a.length<2&&(a="0"+a),"%"+a})))}(t)}catch(a){return atob(t)}}n.prototype.name="InvalidTokenError";const l=a.p+"static/media/image.a743f0ce8b7615ff7da9.png";var o=a(579);const i=()=>{(0,s.d4)((e=>e.loginSlice));const e=localStorage.getItem("jwt"),t=!!e,a=t&&"SELLER"===function(e,t){if("string"!==typeof e)throw new n("Invalid token specified: must be a string");t||(t={});const a=!0===t.header?0:1,s=e.split(".")[a];if("string"!==typeof s)throw new n("Invalid token specified: missing part #".concat(a+1));let r;try{r=c(s)}catch(l){throw new n("Invalid token specified: invalid base64 for part #".concat(a+1," (").concat(l.message,")"))}try{return JSON.parse(r)}catch(l){throw new n("Invalid token specified: invalid json for part #".concat(a+1," (").concat(l.message,")"))}}(e).role;return(0,o.jsxs)("nav",{id:"navbar",className:"flex bg-blue-300",children:[(0,o.jsx)("div",{className:"w-4/5 bg-orange-400",children:(0,o.jsxs)("ul",{className:"flex p-4 text-white font-bold",children:[(0,o.jsx)("li",{className:"pr-6 text-2xl ",children:(0,o.jsx)(r.Link,{to:"/",children:(0,o.jsx)("img",{src:l,alt:"Logo",style:{maxHeight:"100px"}})})}),t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("li",{className:"pr-6 text-3xl mt-10",children:(0,o.jsx)(r.Link,{to:"/carts/",children:"Cart"})}),(0,o.jsx)("li",{className:"pr-6 text-3xl mt-10",children:(0,o.jsx)(r.Link,{to:"/coupons/",children:"Coupons"})})]}):(0,o.jsx)(o.Fragment,{}),a?(0,o.jsx)(o.Fragment,{children:(0,o.jsx)("li",{className:"pr-6 text-3xl mt-10",children:(0,o.jsx)(r.Link,{to:"/store/",children:"Store"})})}):(0,o.jsx)(o.Fragment,{})]})}),(0,o.jsxs)("div",{className:"w-1/5 flex justify-end bg-orange-300 p-4 font-medium",children:[t?(0,o.jsx)("li",{className:"pr-6 text-3xl mt-10",children:(0,o.jsx)(r.Link,{to:"/member/mypage",children:"Mypage"})}):(0,o.jsx)(o.Fragment,{}),t?(0,o.jsx)("div",{className:"text-white text-3xl m-1 rounded mt-10",children:(0,o.jsx)(r.Link,{to:"/member/logout",children:"Logout"})}):(0,o.jsx)("div",{className:"text-white text-3xl m-1 rounded mt-10",children:(0,o.jsx)(r.Link,{to:"/member/login",children:"Login"})})]})]})}},7689:(e,t,a)=>{a.r(t),a.d(t,{default:()=>m});var s=a(4164),r=a(5043),n=a(3216),c=a(3445),l=a(1744),o=a(579);const i=()=>{const[e,t]=(0,r.useState)([]),[a,s]=(0,r.useState)(!0),[i,d]=(0,r.useState)({issuedId:0,address:""}),m=(0,n.Zp)(),h=e=>{const{name:t,value:a}=e.target;d((e=>({...e,[t]:a})))};return(0,r.useEffect)((()=>{(0,l.c)().then((e=>{t(e||[]),s(!1)})).catch((e=>{s(!1),console.error("Error fetching coupons:",e)}))}),[]),a?(0,o.jsx)("div",{children:"Loading..."}):(0,o.jsxs)("div",{className:"total-order-container",children:[(0,o.jsxs)("div",{className:"coupon-container",children:[(0,o.jsx)("label",{htmlFor:"issuedId",className:"coupon-label",children:"\uc0ac\uc6a9 \uac00\ub2a5\ud55c \ucfe0\ud3f0"}),(0,o.jsxs)("select",{name:"issuedId",id:"issuedId",onChange:h,className:"coupon-select",children:[(0,o.jsx)("option",{value:"0",children:"\uc120\ud0dd \uc548\ud568"}),e.data.map(((e,t)=>(0,o.jsx)("option",{value:e.issuedId,children:e.couponInfo||"No Information"},t)))]})]}),(0,o.jsxs)("div",{className:"address-container",children:[(0,o.jsx)("label",{htmlFor:"address",className:"address-label",children:"\ubc1b\uc73c\uc2e4 \uc8fc\uc18c"}),(0,o.jsx)("input",{className:"address-input",name:"address",type:"text",value:i.address,onChange:h})]}),(0,o.jsx)("div",{className:"payment-button-container",children:(0,o.jsx)("button",{className:"payment-button",onClick:async()=>{try{const e=await(0,c.G1)(i);localStorage.setItem("addOrder",JSON.stringify(e)),m({pathname:"/payment"},{replace:!0})}catch(e){console.error("Error while adding order:",e)}},children:"\uacb0\uc81c\ud558\uae30"})})]})};var d=a(1600);const m=()=>(0,o.jsxs)("div",{className:"fixed top-0 left-0 z-[1055] flex flex-col h-full w-full",children:[(0,o.jsx)(s.A,{}),(0,o.jsxs)("div",{className:"w-full flex flex-wrap  h-full justify-center  items-center border-2",children:[(0,o.jsx)(d.A,{}),(0,o.jsx)(i,{})]})]})}}]);
//# sourceMappingURL=349.ae9acf23.chunk.js.map