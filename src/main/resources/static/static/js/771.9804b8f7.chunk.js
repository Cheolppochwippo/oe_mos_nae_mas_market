"use strict";(self.webpackChunkmarket=self.webpackChunkmarket||[]).push([[771],{3445:(e,t,a)=>{a.d(t,{G1:()=>c,SP:()=>n,zp:()=>l});var s=a(7154);const r="http://localhost:8080",c=async e=>{const t="Bearer "+localStorage.getItem("jwt");return(await s.A.post("".concat(r,"/totalOrders"),e,{headers:{Authorization:t}})).data},n=async e=>{const t="Bearer "+localStorage.getItem("jwt");return(await s.A.get("".concat(r,"/totalOrders"),{headers:{Authorization:t},params:{page:e}})).data.data},l=async e=>{const t="Bearer "+localStorage.getItem("jwt");return(await s.A.get("".concat(r,"/totalOrders/").concat(e),{headers:{Authorization:t}})).data}},1600:(e,t,a)=>{a.d(t,{A:()=>n});var s=a(5043),r=a(4523),c=a(579);const n=()=>{const[e,t]=(0,s.useState)([]),[a,n]=(0,s.useState)(!0),[l,o]=(0,s.useState)(0);(0,s.useEffect)((()=>{(async()=>{try{const e=await(0,r.je)();t(e.data),o(d(e.data)),n(!1)}catch(e){console.error("Failed to fetch cart items:",e)}})()}),[]);const d=e=>e.reduce(((e,t)=>e+t.price*t.quantity),0),i=async(a,s)=>{try{await(0,r.V2)(a,s);const c=e.map((e=>e.orderId===a?{...e,quantity:s}:e));t(c),o(d(c))}catch(c){console.error("Failed to update cart item:",c)}};return a?(0,c.jsx)("div",{children:"Loading..."}):(0,c.jsxs)("div",{children:[(0,c.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Cart Items"}),0===e.length?(0,c.jsx)("p",{children:"Your cart is empty."}):(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("ul",{className:"divide-y divide-gray-200",children:e.map((a=>(0,c.jsxs)("li",{className:"py-4 flex items-center",children:[(0,c.jsx)("div",{className:"w-2/3 flex items-center",children:(0,c.jsxs)("div",{children:[(0,c.jsx)("p",{className:"text-lg font-semibold",children:a.productName}),(0,c.jsxs)("p",{className:"text-gray-600",children:["Price: ",a.price]})]})}),(0,c.jsxs)("div",{className:"w-1/3 flex justify-end items-center",children:[(0,c.jsxs)("div",{className:"flex items-center",children:[(0,c.jsx)("button",{className:"m-1 p-1 text-2xl bg-orange-500 text-white w-8 rounded-lg",onClick:()=>i(a.orderId,a.quantity-1),children:"-"}),(0,c.jsx)("span",{className:"mx-2",children:a.quantity}),(0,c.jsx)("button",{className:"m-1 p-1 text-2xl bg-orange-500 text-white w-8 rounded-lg",onClick:()=>i(a.orderId,a.quantity+1),children:"+"})]}),(0,c.jsx)("button",{className:"ml-4 text-red-500 hover:text-red-700",onClick:()=>(async a=>{try{await(0,r.dt)(a);const s=e.filter((e=>e.orderId!==a));t(s),o(d(s))}catch(s){console.error("Failed to remove cart item:",s)}})(a.orderId),children:"Remove"})]})]},a.orderId)))}),(0,c.jsx)("div",{className:"mt-8 flex justify-end",children:(0,c.jsxs)("div",{className:"text-xlg font-bold ",children:["Total Price: ",l.toLocaleString()," \uc6d0"]})})]})]})}},2200:(e,t,a)=>{a.d(t,{A:()=>l});var s=a(5043),r=a(3445),c=a(3216),n=a(579);const l=function(){const[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)(1),[o,d]=(0,s.useState)(0),i=(0,c.Zp)();return(0,s.useEffect)((()=>{(async()=>{try{const e=await(0,r.SP)(a);t(e.content),d(e.totalPages)}catch(e){console.error("Error fetching total orders:",e)}})()}),[a]),(0,n.jsxs)("div",{className:"total-orders-container",children:[(0,n.jsx)("h1",{className:"total-orders-heading",children:"\uc8fc\ubb38 \ubaa9\ub85d"}),(0,n.jsx)("div",{className:"order-container",children:e&&e.length>0?e.map((e=>(0,n.jsxs)("div",{className:"order-card",children:[(0,n.jsxs)("div",{className:"order-card-content",children:[(0,n.jsxs)("p",{className:"order-name",children:["\uc8fc\ubb38\uba85: ",e.orderName]}),(0,n.jsxs)("p",{className:"payment-status",children:["\uacb0\uc81c \uc0c1\ud0dc: ",e.paymentStatementEnum]}),(0,n.jsxs)("p",{className:"payment-amount",children:["\uacb0\uc81c \uae08\uc561: ",e.priceAmount," \uc6d0"]})]}),(0,n.jsx)("button",{className:"order-button",onClick:()=>(e=>{try{i({pathname:"/totalOrders/".concat(e.id)},{replace:!0})}catch(t){console.error("\ud398\uc774\uc9c0 \uc774\ub3d9 \uc5d0\ub7ec:",t)}})(e),children:"\uc0c1\uc138 \uc815\ubcf4 \ubcf4\uae30"})]},e.id))):(0,n.jsx)("p",{className:"no-orders-message",children:"\uc8fc\ubb38\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})}),(0,n.jsxs)("div",{className:"pagination",children:[(0,n.jsx)("button",{className:"page-button",onClick:()=>{a>1&&l(a-1)},children:"\xab \uc774\uc804"}),(()=>{const e=[],t=Math.max(1,a-Math.floor(5)),s=Math.min(o,t+10-1);for(let r=t;r<=s;r++)e.push((0,n.jsx)("button",{className:r===a?"active":"",onClick:()=>l(r),children:r},r));return e})(),(0,n.jsx)("button",{className:"page-button",onClick:()=>{a<o&&l(a+1)},children:"\ub2e4\uc74c \xbb"})]})]})}},5771:(e,t,a)=>{a.r(t),a.d(t,{default:()=>c});a(1600);var s=a(2200),r=a(579);const c=()=>(0,r.jsx)("div",{className:"fixed top-0 left-0 z-[1055] flex flex-col h-full w-full",children:(0,r.jsx)(s.A,{})})}}]);
//# sourceMappingURL=771.9804b8f7.chunk.js.map