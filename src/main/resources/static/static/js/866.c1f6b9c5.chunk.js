"use strict";(self.webpackChunkmarket=self.webpackChunkmarket||[]).push([[866],{4462:(e,t,r)=>{r.d(t,{A:()=>i});var a=r(3003),n=r(3216),s=r(5475),l=r(3433),o=r(579);const i=()=>{const e=(0,n.Zp)(),t=(0,a.wA)(),r=(0,a.d4)((e=>e.loginSlice));return{loginState:r,isLogin:!!r.username,doLogin:async e=>(await t((0,l.Kw)(e))).payload,doLogout:()=>{t((0,l.ri)())},moveToPath:t=>{e({pathname:t},{replace:!0})},moveToLogin:()=>{e({pathname:"/member/login"},{replace:!0})},moveToLoginReturn:()=>(0,o.jsx)(n.C5,{replace:!0,to:"/member/login"}),exceptionHandle:t=>{console.log("Exception------------------------"),console.log(t);const r=t.response.data.error,a=(0,s.createSearchParams)({error:r}).toString();return"REQUIRE_LOGIN"===r?(alert("\ub85c\uadf8\uc778 \ud574\uc57c\ub9cc \ud569\ub2c8\ub2e4."),void e({pathname:"/member/login",search:a})):"ERROR_ACCESSDENIED"===t.response.data.error?(alert("\ud574\ub2f9 \uba54\ub274\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub294 \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."),void e({pathname:"/member/login",search:a})):void 0}}}},4164:(e,t,r)=>{r.d(t,{A:()=>c});var a=r(3003),n=r(5475);class s extends Error{}function l(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return function(e){return decodeURIComponent(atob(e).replace(/(.)/g,((e,t)=>{let r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(r){return atob(t)}}s.prototype.name="InvalidTokenError";const o=r.p+"static/media/image.a743f0ce8b7615ff7da9.png";var i=r(579);const c=()=>{(0,a.d4)((e=>e.loginSlice));const e=localStorage.getItem("jwt"),t=!!e,r=t&&"SELLER"===function(e,t){if("string"!==typeof e)throw new s("Invalid token specified: must be a string");t||(t={});const r=!0===t.header?0:1,a=e.split(".")[r];if("string"!==typeof a)throw new s("Invalid token specified: missing part #".concat(r+1));let n;try{n=l(a)}catch(o){throw new s("Invalid token specified: invalid base64 for part #".concat(r+1," (").concat(o.message,")"))}try{return JSON.parse(n)}catch(o){throw new s("Invalid token specified: invalid json for part #".concat(r+1," (").concat(o.message,")"))}}(e).role;return(0,i.jsxs)("nav",{id:"navbar",className:"flex bg-blue-300",children:[(0,i.jsx)("div",{className:"w-4/5 bg-orange-400",children:(0,i.jsxs)("ul",{className:"flex p-4 text-white font-bold",children:[(0,i.jsx)("li",{className:"pr-6 text-2xl ",children:(0,i.jsx)(n.Link,{to:"/",children:(0,i.jsx)("img",{src:o,alt:"Logo",style:{maxHeight:"100px"}})})}),t?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("li",{className:"pr-6 text-3xl mt-10",children:(0,i.jsx)(n.Link,{to:"/carts/",children:"Cart"})}),(0,i.jsx)("li",{className:"pr-6 text-3xl mt-10",children:(0,i.jsx)(n.Link,{to:"/coupons/",children:"Coupons"})})]}):(0,i.jsx)(i.Fragment,{}),r?(0,i.jsx)(i.Fragment,{children:(0,i.jsx)("li",{className:"pr-6 text-3xl mt-10",children:(0,i.jsx)(n.Link,{to:"/store/",children:"Store"})})}):(0,i.jsx)(i.Fragment,{})]})}),(0,i.jsxs)("div",{className:"w-1/5 flex justify-end bg-orange-300 p-4 font-medium",children:[t?(0,i.jsx)("li",{className:"pr-6 text-3xl mt-10",children:(0,i.jsx)(n.Link,{to:"/member/mypage",children:"Mypage"})}):(0,i.jsx)(i.Fragment,{}),t?(0,i.jsx)("div",{className:"text-white text-3xl m-1 rounded mt-10",children:(0,i.jsx)(n.Link,{to:"/member/logout",children:"Logout"})}):(0,i.jsx)("div",{className:"text-white text-3xl m-1 rounded mt-10",children:(0,i.jsx)(n.Link,{to:"/member/login",children:"Login"})})]})]})}},7854:(e,t,r)=>{r.r(t),r.d(t,{default:()=>d});var a=r(5043),n=r(4462),s=r(3216),l=r(579);const o={username:"",pw:""},i=()=>{const[e,t]=(0,a.useState)({...o}),{doLogin:r,moveToPath:i}=(0,n.A)(),c=(0,s.Zp)(),d=r=>{e[r.target.name]=r.target.value,t({...e})};return(0,l.jsxs)("div",{className:"max-w-xl mx-auto my-10 p-6 border border-gray-300 rounded-lg",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"\ub85c\uadf8\uc778"}),(0,l.jsx)("div",{className:"mb-4 px-6",children:(0,l.jsx)("input",{className:"w-full p-2 border border-gray-300 rounded",name:"username",type:"text",value:e.username,onChange:d,placeholder:"\uc544\uc774\ub514\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"})}),(0,l.jsx)("div",{className:"mb-4 px-6 ",children:(0,l.jsx)("input",{className:"w-full p-2 border border-gray-300 rounded",name:"pw",type:"password",value:e.pw,onChange:d,placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"})}),(0,l.jsx)("div",{className:"flex justify-between items-center  px-6 mb-4",children:(0,l.jsx)("button",{className:"w-full py-2  bg-purple-600 text-white rounded hover:bg-purple-700",onClick:t=>{r(e).then((e=>{console.log(e),e.error?alert("\uc544\uc774\ub514\uc640 \ud328\uc2a4\uc6cc\ub4dc\ub97c \ub2e4\uc2dc \ud655\uc778\ud558\uc138\uc694"):(alert("\ub85c\uadf8\uc778 \uc131\uacf5"),i("/"))}))},children:"\ub85c\uadf8\uc778"})}),(0,l.jsx)("div",{className:"flex px-6 justify-between  items-center mb-4",children:(0,l.jsx)("button",{className:"w-full py-2 bg-gray-200 text-gray-700 rounded hover:bg-purple-700",onClick:()=>{c("/member/signup")},children:"\ud68c\uc6d0\uac00\uc785"})})]})};var c=r(4164);const d=()=>(0,l.jsxs)("div",{className:"fixed top-0 left-0 z-[1055] flex flex-col h-full w-full",children:[(0,l.jsx)(c.A,{}),(0,l.jsx)("div",{className:"w-full flex flex-wrap h-full justify-center items-center border-2",children:(0,l.jsx)("div",{className:"max-w-xl w-full px-4",children:(0,l.jsx)(i,{})})})]})}}]);
//# sourceMappingURL=866.c1f6b9c5.chunk.js.map