"use strict";(self.webpackChunkmarket=self.webpackChunkmarket||[]).push([[298],{6940:(t,e,a)=>{a.d(e,{HY:()=>c,To:()=>s,k5:()=>o,nc:()=>l});var r=a(7154);const n="http://localhost:8080",s=async t=>{const e="Bearer "+localStorage.getItem("jwt");return(await r.A.post("".concat(n,"/payments/confirm"),t,{headers:{Authorization:e}})).data},c=async t=>{const e="Bearer "+localStorage.getItem("jwt");return(await r.A.post("".concat(n,"/payments/cancel"),t,{headers:{Authorization:e}})).data},o=async t=>{const e="Bearer "+localStorage.getItem("jwt");return(await r.A.get("".concat(n,"/payments"),{headers:{Authorization:e},params:{page:t}})).data.data},l=async t=>{const e="Bearer "+localStorage.getItem("jwt");return(await r.A.get("".concat(n,"/payments/").concat(t),{headers:{Authorization:e}})).data}},3445:(t,e,a)=>{a.d(e,{G1:()=>s,SP:()=>c,zp:()=>o});var r=a(7154);const n="http://localhost:8080",s=async t=>{const e="Bearer "+localStorage.getItem("jwt");return(await r.A.post("".concat(n,"/totalOrders"),t,{headers:{Authorization:e}})).data},c=async t=>{const e="Bearer "+localStorage.getItem("jwt");return(await r.A.get("".concat(n,"/totalOrders"),{headers:{Authorization:e},params:{page:t}})).data.data},o=async t=>{const e="Bearer "+localStorage.getItem("jwt");return(await r.A.get("".concat(n,"/totalOrders/").concat(t),{headers:{Authorization:e}})).data}},6298:(t,e,a)=>{a.r(e),a.d(e,{default:()=>h});var r=a(5043),n=a(3216),s=a(5475),c=a(3445),o=a(6940),l=a(579);const i=function(t){let{paymentKey:e,onClose:a}=t;const[n,s]=(0,r.useState)("");return(0,l.jsxs)("div",{className:"popup",children:[(0,l.jsx)("button",{className:"close-button",onClick:a,children:"X"}),(0,l.jsx)("p",{children:"\ucde8\uc18c \uc0ac\uc720\ub97c \uc785\ub825\ud558\uc138\uc694:"}),(0,l.jsx)("textarea",{value:n,onChange:t=>s(t.target.value),rows:4}),(0,l.jsx)("button",{onClick:async()=>{try{await(0,o.HY)({paymentKey:e,cancelReason:n}),alert("\ucde8\uc18c\uac00 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),a()}catch(t){console.error("Error canceling payment:",t)}},children:"\uacb0\uc81c \ucde8\uc18c"})]})};const d=function(){const{totalOrderId:t}=(0,n.g)(),[e,a]=(0,r.useState)(null),[o,d]=(0,r.useState)(null),[h,u]=(0,r.useState)(!1),[p,m]=(0,r.useState)("");return(0,r.useEffect)((()=>{(async()=>{try{const e=await(0,c.zp)(t);a(e.data),console.log(e.data)}catch(o){console.error("Error fetching total order detail:",o),d(o)}})()}),[t]),o?(0,l.jsxs)("div",{className:"total-order-detail-container",children:[(0,l.jsx)("h1",{children:"\uc8fc\ubb38 \uc0c1\uc138 \uc815\ubcf4"}),(0,l.jsx)("p",{children:"\uad8c\ud55c\uc774 \uc5c6\ub294 \uc8fc\ubb38 \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4."})]}):e?(0,l.jsxs)("div",{className:"total-order-detail-container",children:[(0,l.jsx)("h1",{children:"\uc8fc\ubb38 \uc0c1\uc138 \uc815\ubcf4"}),(0,l.jsxs)("div",{className:"total-order-detail",children:[(0,l.jsxs)("p",{children:["\uc8fc\ubb38\uba85: ",e.orderName]}),"REFUND"===e.paymentStatementEnum?(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"\uacb0\uc81c \uc0c1\ud0dc: \ud658\ubd88\uc644\ub8cc"}),(0,l.jsxs)("p",{children:["\ud658\ubd88 \uc2dc\uac04: ",new Date(e.modifiedAt).toLocaleString()]})]}):(0,l.jsxs)("div",{children:[(0,l.jsx)("p",{children:"\uacb0\uc81c \uc0c1\ud0dc: \uacb0\uc81c \uc131\uacf5"}),(0,l.jsxs)("p",{children:["\uacb0\uc81c \uc2dc\uac04: ",new Date(e.modifiedAt).toLocaleString()]})]}),(0,l.jsxs)("p",{children:["\uac00\uaca9: ",e.price," \uc6d0"]}),(0,l.jsxs)("p",{children:["\ud560\uc778 \uae08\uc561: ",e.discount," \uc6d0"]}),(0,l.jsxs)("p",{children:["\uacb0\uc81c \ucd1d\uc561: ",e.priceAmount," \uc6d0"]}),(0,l.jsxs)("p",{children:["\ubc30\uc1a1 \ube44\uc6a9: ",e.deliveryCost," \uc6d0"]}),(0,l.jsxs)("p",{children:["\uc8fc\uc18c: ",e.address]})]}),"REFUND"!==e.paymentStatementEnum&&(0,l.jsx)("button",{className:"button",onClick:()=>{u(!0)},children:"\uacb0\uc81c \ucde8\uc18c"}),h&&(0,l.jsx)(i,{paymentKey:e.paymentKey,onClose:()=>{u(!1),m("")}}),(0,l.jsx)(s.Link,{to:"/totalOrders",children:(0,l.jsx)("button",{className:"button",children:"\ub3cc\uc544\uac00\uae30"})})]}):(0,l.jsx)("p",{children:"\uc8fc\ubb38 \uc815\ubcf4\ub97c \ubd88\ub7ec\uc624\ub294 \uc911..."})},h=()=>(0,l.jsx)("div",{className:"fixed top-0 left-0 z-[1055] flex flex-col h-full w-full",children:(0,l.jsx)("div",{className:"w-full flex flex-wrap h-full justify-center items-center border-2",children:(0,l.jsx)(d,{})})})}}]);
//# sourceMappingURL=298.151c6afe.chunk.js.map